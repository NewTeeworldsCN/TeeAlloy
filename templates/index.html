{% extends "base.html" %}

{% block content %}
<div class="auth-container">
  <div class="form-card" style="text-align: center;">
    <!-- é¡µé¢æ ‡é¢˜ -->
    <div style="margin-bottom: 30px;">
      <div class="logo-badge" style="margin: 0 auto 16px; font-size: 2rem;">
        ğŸ”
      </div>
      <h2>æ¬¢è¿</h2>
      <p class="subtitle">å®‰å…¨è®¤è¯ç³»ç»Ÿ</p>
    </div>

    {% if user %}
      <!-- å·²ç™»å½•ï¼šæ˜¾ç¤ºè·³è½¬æç¤º -->
      <div class="alert alert-info" style="background: #e0f2fe; color: #0369a1; padding: 12px; border-radius: 6px; margin-bottom: 16px;">
        æ‚¨å·²ç™»å½•ï¼Œæ­£åœ¨è·³è½¬åˆ°ä»ªè¡¨ç›˜...
      </div>
      <script>
        // å·²ç™»å½•ï¼Œè·³è½¬åˆ° dashboard
        setTimeout(() => {
          window.location.href = '{{ url_for("main.dashboard") }}';
        }, 1000); // 1ç§’åè·³è½¬
      </script>
      <a href="{{ url_for('main.dashboard') }}" class="btn btn-primary">ç«‹å³è¿›å…¥ä»ªè¡¨ç›˜</a>
    {% else %}
      <!-- æœªç™»å½•ï¼šæ˜¾ç¤ºè·³è½¬æç¤º -->
      <div class="alert alert-warning" style="background: #fff7ed; color: #b45309; padding: 12px; border-radius: 6px; margin-bottom: 16px;">
        æ‚¨å°šæœªç™»å½•ï¼Œæ­£åœ¨è·³è½¬åˆ°ç™»å½•é¡µé¢...
      </div>
      <script>
        // æœªç™»å½•ï¼Œè·³è½¬åˆ° login
        setTimeout(() => {
          window.location.href = '{{ url_for("auth.login") }}';
        }, 1000);
      </script>
      <a href="{{ url_for('auth.login') }}" class="btn btn-primary">ç«‹å³ç™»å½•</a>
    {% endif %}
  </div>
</div>
{% endblock %}
